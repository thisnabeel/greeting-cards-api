/*!
 * froala_editor v2.8.5 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2018 Froala Labs
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(i)}:e(window.jQuery)}(function(e){e.extend(e.FE.DEFAULTS,{quickInsertButtons:["image","video","embedly","table","ul","ol","hr"],quickInsertTags:["p","div","h1","h2","h3","h4","h5","h6","pre","blockquote"]}),e.FE.QUICK_INSERT_BUTTONS={},e.FE.DefineIcon("quickInsert",{PATH:'<path d="M22,16.75 L16.75,16.75 L16.75,22 L15.25,22.000 L15.25,16.75 L10,16.75 L10,15.25 L15.25,15.25 L15.25,10 L16.75,10 L16.75,15.25 L22,15.25 L22,16.75 Z"/>',template:"svg"}),e.FE.RegisterQuickInsertButton=function(t,i){e.FE.QUICK_INSERT_BUTTONS[t]=e.extend({undo:!0},i)},e.FE.RegisterQuickInsertButton("image",{icon:"insertImage",requiredPlugin:"image",title:"Insert Image",undo:!1,callback:function(){var t=this;t.shared.$qi_image_input||(t.shared.$qi_image_input=e('<input accept="image/*" name="quickInsertImage'+this.id+'" style="display: none;" type="file">'),e("body:first").append(t.shared.$qi_image_input),t.events.$on(t.shared.$qi_image_input,"change",function(){var t=e(this).data("inst");this.files&&(t.quickInsert.hide(),t.image.upload(this.files)),e(this).val("")},!0)),t.$qi_image_input=t.shared.$qi_image_input,t.helpers.isMobile()&&t.selection.save(),t.events.disableBlur(),t.$qi_image_input.data("inst",t).trigger("click")}}),e.FE.RegisterQuickInsertButton("video",{icon:"insertVideo",requiredPlugin:"video",title:"Insert Video",undo:!1,callback:function(){var e=prompt(this.language.translate("Paste the URL of the video you want to insert."));e&&this.video.insertByURL(e)}}),e.FE.RegisterQuickInsertButton("embedly",{icon:"embedly",requiredPlugin:"embedly",title:"Embed URL",undo:!1,callback:function(){var e=prompt(this.language.translate("Paste the URL of any web content you want to insert."));e&&this.embedly.add(e)}}),e.FE.RegisterQuickInsertButton("table",{icon:"insertTable",requiredPlugin:"table",title:"Insert Table",callback:function(){this.table.insert(2,2)}}),e.FE.RegisterQuickInsertButton("ol",{icon:"formatOL",requiredPlugin:"lists",title:"Ordered List",callback:function(){this.lists.format("OL")}}),e.FE.RegisterQuickInsertButton("ul",{icon:"formatUL",requiredPlugin:"lists",title:"Unordered List",callback:function(){this.lists.format("UL")}}),e.FE.RegisterQuickInsertButton("hr",{icon:"insertHR",title:"Insert Horizontal Line",callback:function(){this.commands.insertHR()}}),e.FE.PLUGINS.quickInsert=function(t){function i(i){var n,s,o;n=i.offset().top-t.$box.offset().top,s=0-l.outerWidth(),t.opts.enter!=e.FE.ENTER_BR?o=(l.outerHeight()-i.outerHeight())/2:(e("<span>"+e.FE.INVISIBLE_SPACE+"</span>").insertAfter(i),o=(l.outerHeight()-i.next().outerHeight())/2,i.next().remove()),t.opts.iframe&&(n+=t.$iframe.offset().top-t.helpers.scrollTop()),l.hasClass("fr-on")&&n>=0&&u.css("top",n-o),n>=0&&n-o<=t.$box.outerHeight()-i.outerHeight()?(l.hasClass("fr-hidden")&&(l.hasClass("fr-on")&&r(),l.removeClass("fr-hidden")),l.css("top",n-o)):l.hasClass("fr-visible")&&(l.addClass("fr-hidden"),a()),l.css("left",s)}function n(n){l||function(){t.shared.$quick_insert||(t.shared.$quick_insert=e('<div class="fr-quick-insert"><a class="fr-floating-btn" role="button" tabIndex="-1" title="'+t.language.translate("Quick Insert")+'">'+t.icon.create("quickInsert")+"</a></div>")),l=t.shared.$quick_insert,t.tooltip.bind(t.$box,".fr-quick-insert > a.fr-floating-btn"),t.events.on("destroy",function(){l.removeClass("fr-on").appendTo(e("body:first")).css("left",-9999).css("top",-9999),u&&(a(),u.appendTo(e("body:first")))},!0),t.events.on("shared.destroy",function(){l.html("").removeData().remove(),l=null,u&&(u.html("").removeData().remove(),u=null)},!0),t.events.on("commands.before",o),t.events.on("commands.after",function(){t.popups.areVisible()||s()}),t.events.bindClick(t.$box,".fr-quick-insert > a",r),t.events.bindClick(t.$box,".fr-qi-helper > a.fr-btn",function(i){var n=e(i.currentTarget).data("cmd");return!1===t.events.trigger("quickInsert.commands.before",[n])?!1:(e.FE.QUICK_INSERT_BUTTONS[n].callback.apply(t,[i.currentTarget]),e.FE.QUICK_INSERT_BUTTONS[n].undo&&t.undo.saveStep(),t.events.trigger("quickInsert.commands.after",[n]),t.quickInsert.hide(),void 0)}),t.events.$on(t.$wp,"scroll",function(){l.hasClass("fr-visible")&&i(l.data("tag"))})}(),l.hasClass("fr-on")&&a(),t.$box.append(l),i(n),l.data("tag",n),l.addClass("fr-visible")}function s(){if(t.core.hasFocus()){var i=t.selection.element();if(t.opts.enter==e.FE.ENTER_BR||t.node.isBlock(i)||(i=t.node.blockParent(i)),t.opts.enter==e.FE.ENTER_BR&&!t.node.isBlock(i)){var s=t.node.deepestParent(i);s&&(i=s)}i&&(t.opts.enter!=e.FE.ENTER_BR&&t.node.isEmpty(i)&&t.node.isElement(i.parentNode)&&0<=t.opts.quickInsertTags.indexOf(i.tagName.toLowerCase())||t.opts.enter==e.FE.ENTER_BR&&("BR"==i.tagName&&(!i.previousSibling||"BR"==i.previousSibling.tagName||t.node.isBlock(i.previousSibling))||t.node.isEmpty(i)&&(!i.previousSibling||"BR"==i.previousSibling.tagName||t.node.isBlock(i.previousSibling))&&(!i.nextSibling||"BR"==i.nextSibling.tagName||t.node.isBlock(i.nextSibling))))?l&&l.data("tag").is(e(i))&&l.hasClass("fr-on")?a():t.selection.isCollapsed()&&n(e(i)):o()}}function o(){l&&(l.hasClass("fr-on")&&a(),l.removeClass("fr-visible fr-on"),l.css("left",-9999).css("top",-9999))}function r(i){if(i&&i.preventDefault(),l.hasClass("fr-on")&&!l.hasClass("fr-hidden"))a();else{if(!t.shared.$qi_helper){for(var n=t.opts.quickInsertButtons,s='<div class="fr-qi-helper">',o=0,r=0;r<n.length;r++){var d=e.FE.QUICK_INSERT_BUTTONS[n[r]];d&&(!d.requiredPlugin||e.FE.PLUGINS[d.requiredPlugin]&&0<=t.opts.pluginsEnabled.indexOf(d.requiredPlugin))&&(s+='<a class="fr-btn fr-floating-btn" role="button" title="'+t.language.translate(d.title)+'" tabIndex="-1" data-cmd="'+n[r]+'" style="transition-delay: '+.025*o++ +'s;">'+t.icon.create(d.icon)+"</a>")}s+="</div>",t.shared.$qi_helper=e(s),t.tooltip.bind(t.shared.$qi_helper,"> a.fr-btn"),t.events.$on(t.shared.$qi_helper,"mousedown",function(e){e.preventDefault()},!0)}(u=t.shared.$qi_helper).appendTo(t.$box),setTimeout(function(){u.css("top",parseFloat(l.css("top"))),u.css("left",parseFloat(l.css("left"))+l.outerWidth()),u.find("a").addClass("fr-size-1"),l.addClass("fr-on")},10)}}function a(){var e=t.$box.find(".fr-qi-helper");e.length&&(e.find("a").removeClass("fr-size-1"),e.css("left",-9999),l.hasClass("fr-hidden")||l.removeClass("fr-on"))}var l,u;return{_init:function(){return t.$wp?(t.popups.onShow("image.edit",o),t.events.on("mouseup",s),t.helpers.isMobile()&&t.events.$on(e(t.o_doc),"selectionchange",s),t.events.on("blur",o),t.events.on("keyup",s),t.events.on("keydown",function(){setTimeout(function(){s()},0)}),void 0):!1},hide:o}}});