/*!
 * froala_editor v2.8.5 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2018 Froala Labs
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(o,t){return void 0===t&&(t="undefined"!=typeof window?require("jquery"):require("jquery")(o)),e(t)}:e(window.jQuery)}(function(e){e.extend(e.FE.POPUP_TEMPLATES,{emoticons:"[_BUTTONS_][_EMOTICONS_]"}),e.extend(e.FE.DEFAULTS,{emoticonsStep:8,emoticonsSet:[{code:"1f600",desc:"Grinning face"},{code:"1f601",desc:"Grinning face with smiling eyes"},{code:"1f602",desc:"Face with tears of joy"},{code:"1f603",desc:"Smiling face with open mouth"},{code:"1f604",desc:"Smiling face with open mouth and smiling eyes"},{code:"1f605",desc:"Smiling face with open mouth and cold sweat"},{code:"1f606",desc:"Smiling face with open mouth and tightly-closed eyes"},{code:"1f607",desc:"Smiling face with halo"},{code:"1f608",desc:"Smiling face with horns"},{code:"1f609",desc:"Winking face"},{code:"1f60a",desc:"Smiling face with smiling eyes"},{code:"1f60b",desc:"Face savoring delicious food"},{code:"1f60c",desc:"Relieved face"},{code:"1f60d",desc:"Smiling face with heart-shaped eyes"},{code:"1f60e",desc:"Smiling face with sunglasses"},{code:"1f60f",desc:"Smirking face"},{code:"1f610",desc:"Neutral face"},{code:"1f611",desc:"Expressionless face"},{code:"1f612",desc:"Unamused face"},{code:"1f613",desc:"Face with cold sweat"},{code:"1f614",desc:"Pensive face"},{code:"1f615",desc:"Confused face"},{code:"1f616",desc:"Confounded face"},{code:"1f617",desc:"Kissing face"},{code:"1f618",desc:"Face throwing a kiss"},{code:"1f619",desc:"Kissing face with smiling eyes"},{code:"1f61a",desc:"Kissing face with closed eyes"},{code:"1f61b",desc:"Face with stuck out tongue"},{code:"1f61c",desc:"Face with stuck out tongue and winking eye"},{code:"1f61d",desc:"Face with stuck out tongue and tightly-closed eyes"},{code:"1f61e",desc:"Disappointed face"},{code:"1f61f",desc:"Worried face"},{code:"1f620",desc:"Angry face"},{code:"1f621",desc:"Pouting face"},{code:"1f622",desc:"Crying face"},{code:"1f623",desc:"Persevering face"},{code:"1f624",desc:"Face with look of triumph"},{code:"1f625",desc:"Disappointed but relieved face"},{code:"1f626",desc:"Frowning face with open mouth"},{code:"1f627",desc:"Anguished face"},{code:"1f628",desc:"Fearful face"},{code:"1f629",desc:"Weary face"},{code:"1f62a",desc:"Sleepy face"},{code:"1f62b",desc:"Tired face"},{code:"1f62c",desc:"Grimacing face"},{code:"1f62d",desc:"Loudly crying face"},{code:"1f62e",desc:"Face with open mouth"},{code:"1f62f",desc:"Hushed face"},{code:"1f630",desc:"Face with open mouth and cold sweat"},{code:"1f631",desc:"Face screaming in fear"},{code:"1f632",desc:"Astonished face"},{code:"1f633",desc:"Flushed face"},{code:"1f634",desc:"Sleeping face"},{code:"1f635",desc:"Dizzy face"},{code:"1f636",desc:"Face without mouth"},{code:"1f637",desc:"Face with medical mask"}],emoticonsButtons:["emoticonsBack","|"],emoticonsUseImage:!0}),e.FE.PLUGINS.emoticons=function(o){function t(){if(!o.selection.isCollapsed())return!1;var e=o.selection.element(),t=o.selection.endElement();if(e&&o.node.hasClass(e,"fr-emoticon"))return e;if(t&&o.node.hasClass(t,"fr-emoticon"))return t;var s=o.selection.ranges(0),n=s.startContainer;if(n.nodeType==Node.ELEMENT_NODE&&0<n.childNodes.length&&0<s.startOffset){var c=n.childNodes[s.startOffset-1];if(o.node.hasClass(c,"fr-emoticon"))return c}return!1}return{_init:function(){var s=function(){for(var e=o.el.querySelectorAll(".fr-emoticon:not(.fr-deletable)"),t=0;t<e.length;t++)e[t].className+=" fr-deletable"};s(),o.events.on("html.set",s),o.events.on("keydown",function(s){if(o.keys.isCharacter(s.which)&&o.selection.inEditor()){var n=o.selection.ranges(0),c=t();o.node.hasClass(c,"fr-emoticon-img")&&c&&(0===n.startOffset&&o.selection.element()===c?e(c).before(e.FE.MARKERS+e.FE.INVISIBLE_SPACE):e(c).after(e.FE.INVISIBLE_SPACE+e.FE.MARKERS),o.selection.restore())}}),o.events.on("keyup",function(s){for(var n=o.el.querySelectorAll(".fr-emoticon"),c=0;c<n.length;c++)"undefined"!=typeof n[c].textContent&&0===n[c].textContent.replace(/\u200B/gi,"").length&&e(n[c]).remove();if(!(s.which>=e.FE.KEYCODE.ARROW_LEFT&&s.which<=e.FE.KEYCODE.ARROW_DOWN)){var i=t();o.node.hasClass(i,"fr-emoticon-img")&&(e(i).append(e.FE.MARKERS),o.selection.restore())}})},insert:function(s,n){var c=t(),i=o.selection.ranges(0);c?(0===i.startOffset&&o.selection.element()===c?e(c).before(e.FE.MARKERS+e.FE.INVISIBLE_SPACE):0<i.startOffset&&o.selection.element()===c&&i.commonAncestorContainer.parentNode.classList.contains("fr-emoticon")&&e(c).after(e.FE.INVISIBLE_SPACE+e.FE.MARKERS),o.selection.restore(),o.html.insert('<span class="fr-emoticon fr-deletable'+(n?" fr-emoticon-img":"")+'"'+(n?' style="background: url('+n+');"':"")+">"+(n?"&nbsp;":s)+"</span>&nbsp;"+e.FE.MARKERS,!0)):o.html.insert('<span class="fr-emoticon fr-deletable'+(n?" fr-emoticon-img":"")+'"'+(n?' style="background: url('+n+');"':"")+">"+(n?"&nbsp;":s)+"</span>&nbsp;",!0)},showEmoticonsPopup:function(){var t=o.$tb.find('.fr-command[data-cmd="emoticons"]'),s=o.popups.get("emoticons");if(s||(s=function(){var t="";o.opts.toolbarInline&&0<o.opts.emoticonsButtons.length&&(t='<div class="fr-buttons fr-emoticons-buttons">'+o.button.buildList(o.opts.emoticonsButtons)+"</div>");var s,n={buttons:t,emoticons:function(){for(var e='<div style="text-align: center">',t=0;t<o.opts.emoticonsSet.length;t++)0!==t&&t%o.opts.emoticonsStep==0&&(e+="<br>"),e+='<span class="fr-command fr-emoticon" tabIndex="-1" data-cmd="insertEmoticon" title="'+o.language.translate(o.opts.emoticonsSet[t].desc)+'" role="button" data-param1="'+o.opts.emoticonsSet[t].code+'">'+(o.opts.emoticonsUseImage?'<img src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/'+o.opts.emoticonsSet[t].code+'.svg"/>':"&#x"+o.opts.emoticonsSet[t].code+";")+'<span class="fr-sr-only">'+o.language.translate(o.opts.emoticonsSet[t].desc)+"&nbsp;&nbsp;&nbsp;</span></span>";return o.opts.emoticonsUseImage&&(e+='<p style="font-size: 12px; text-align: center; padding: 0 5px;">Emoji free by <a class="fr-link" tabIndex="-1" href="http://emojione.com/" target="_blank" rel="nofollow" role="link" aria-label="Open Emoji One website.">Emoji One</a></p>'),e+="</div>"}()},c=o.popups.create("emoticons",n);return o.tooltip.bind(c,".fr-emoticon"),s=c,o.events.on("popup.tab",function(t){var n=e(t.currentTarget);if(!o.popups.isVisible("emoticons")||!n.is("span, a"))return!0;var c,i,a,f=t.which;if(e.FE.KEYCODE.TAB==f){if(n.is("span.fr-emoticon")&&t.shiftKey||n.is("a")&&!t.shiftKey){var d=s.find(".fr-buttons");c=!o.accessibility.focusToolbar(d,!!t.shiftKey)}if(!1!==c){var r=s.find("span.fr-emoticon:focus:first, span.fr-emoticon:visible:first, a");n.is("span.fr-emoticon")&&(r=r.not("span.fr-emoticon:not(:focus)")),i=r.index(n),i=t.shiftKey?((i-1)%r.length+r.length)%r.length:(i+1)%r.length,a=r.get(i),o.events.disableBlur(),a.focus(),c=!1}}else if(e.FE.KEYCODE.ARROW_UP==f||e.FE.KEYCODE.ARROW_DOWN==f||e.FE.KEYCODE.ARROW_LEFT==f||e.FE.KEYCODE.ARROW_RIGHT==f){if(n.is("span.fr-emoticon")){var l=n.parent().find("span.fr-emoticon");i=l.index(n);var m=o.opts.emoticonsStep,u=Math.floor(l.length/m),p=i%m,h=Math.floor(i/m),E=h*m+p,g=u*m;e.FE.KEYCODE.ARROW_UP==f?E=((E-m)%g+g)%g:e.FE.KEYCODE.ARROW_DOWN==f?E=(E+m)%g:e.FE.KEYCODE.ARROW_LEFT==f?E=((E-1)%g+g)%g:e.FE.KEYCODE.ARROW_RIGHT==f&&(E=(E+1)%g),a=e(l.get(E)),o.events.disableBlur(),a.focus(),c=!1}}else e.FE.KEYCODE.ENTER==f&&(n.is("a")?n[0].click():o.button.exec(n),c=!1);return!1===c&&(t.preventDefault(),t.stopPropagation()),c},!0),c}()),!s.hasClass("fr-active")){o.popups.refresh("emoticons"),o.popups.setContainer("emoticons",o.$tb);var n=t.offset().left+t.outerWidth()/2,c=t.offset().top+(o.opts.toolbarBottom?10:t.outerHeight()-10);o.popups.show("emoticons",n,c,t.outerHeight())}},hideEmoticonsPopup:function(){o.popups.hide("emoticons")},back:function(){o.popups.hide("emoticons"),o.toolbar.showInline()}}},e.FE.DefineIcon("emoticons",{NAME:"smile-o",FA5NAME:"smile"}),e.FE.RegisterCommand("emoticons",{title:"Emoticons",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("emoticons")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("emoticons")):this.emoticons.showEmoticonsPopup()},plugin:"emoticons"}),e.FE.RegisterCommand("insertEmoticon",{callback:function(e,o){this.emoticons.insert("&#x"+o+";",this.opts.emoticonsUseImage?"https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/"+o+".svg":null),this.emoticons.hideEmoticonsPopup()}}),e.FE.DefineIcon("emoticonsBack",{NAME:"arrow-left"}),e.FE.RegisterCommand("emoticonsBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.emoticons.back()}})});